<div class="page-header">
  <h1>
    Task List
    <a href="/tasks/new" class="btn btn-lg btn-success">New Task</a>
  </h1>
</div>

<!--past due-->

Past Due
<div class="row">
  <div class="col-md-12">
    <table class="table table-bordered">
      <tr>
        <th></th>
        <th>Status</th>
        <th>Task Name</th>
        <th>Next Num</th>
        <th>Due Date</th>
        <th>Task ID</th>
        <th>Task Occurence ID</th>
        <th>Task Complete</th>
        <th>Task Complete Date</th>
        <th>Actions</th>
      </tr>
      <% @task_occurrences.order("task_next_date ASC").each do |task_occurrence| %>
      <% if task_occurrence.complete == false %>
      <% if task_occurrence.task_next_date < Time.now %><!-- Past Due-->
      <tr>
       <td>
        <% if task_occurrence.complete == true %>
        <a href="/task_occurrences/<%= task_occurrence.id %>/edit" class="btn btn-warning">
          <i class="fa fa-check-square-o"></i>
        </a>
        <% else %>
        <a href="/task_occurrences/<%= task_occurrence.id %>/edit" class="btn btn-success">
          <i class="fa fa-square-o"></i>
        </a>
        <% end %>
      </td>
      <td><% if task_occurrence.complete == false  && task_occurrence.task_next_date <= Time.now%>
        <%= time_ago_in_words(task_occurrence.task_next_date) %> Past Due
        <% elsif  task_occurrence.complete == false %>
        <%= time_ago_in_words(task_occurrence.task_next_date) %> Away
        <% else %>
        Complete!
        <% end %>
      </td>
      <td><%= Task.find_by(:id => task_occurrence.task_id).name %></td>
      <td><%= task_occurrence.task_next_num %></td>
      <td><%= task_occurrence.task_next_date.strftime("%m/%d/%Y") %></td>
      <td><%= task_occurrence.task_id %></td>
      <td><%= task_occurrence.id %></td>
      <td><%= task_occurrence.complete%></td>
      <td><%= task_occurrence.complete_date.try(:strftime, "%m/%d/%Y")%></td>
      <td>
        <a href="/task_occurrences/<%= task_occurrence.id %>" class="btn btn-primary">Show</a>
        <a href="/task_occurrences/<%= task_occurrence.id %>/edit" class="btn btn-warning">Edit</a>
        <a href="/delete_task_occurrence/<%= task_occurrence.id %>" class="btn btn-danger" rel="nofollow">Delete</a>
      </td>

    <%else%>
    <%end%>
    <%else%>
    <%end%>
    <%end%>
    </tr>
  </table>
</div>
</div>

Today
<div class="row">
  <div class="col-md-12">
    <table class="table table-striped table-hover">
      <tr>
        <th></th>
        <th>Status</th>
        <th>Task Name</th>
        <th>Next Num</th>
        <th>Due Date</th>
        <th>Task ID</th>
        <th>Task Occurence ID</th>
        <th>Task Complete</th>
        <th>Task Complete Date</th>
        <th>Actions</th>
      </tr>
      <% @task_occurrences.order("task_next_date ASC").each do |task_occurrence|  %>
      <% if task_occurrence.complete == false %>
      <% if task_occurrence.task_next_date == Time.now %><!-- Past Due-->
      <tr>
       <td>
        <% if task_occurrence.complete == true %>
        <a href="/task_occurrences/<%= task_occurrence.id %>/edit" class="btn btn-warning">
          <i class="fa fa-check-square-o"></i>
        </a>
        <% else %>
        <a href="/task_occurrences/<%= task_occurrence.id %>/edit" class="btn btn-success">
          <i class="fa fa-square-o"></i>
        </a>
        <% end %>
      </td>
      <td><% if task_occurrence.complete == false  && task_occurrence.task_next_date <= Time.now%>
        <%= time_ago_in_words(task_occurrence.task_next_date) %> Past Due
        <% elsif  task_occurrence.complete == false %>
        <%= time_ago_in_words(task_occurrence.task_next_date) %> Away
        <% else %>
        Complete!
        <% end %>
      </td>
      <td><%= Task.find_by(:id => task_occurrence.task_id).name %></td>
      <td><%= task_occurrence.task_next_num %></td>
      <td><%= task_occurrence.task_next_date.strftime("%m/%d/%Y") %></td>
      <td><%= task_occurrence.task_id %></td>
      <td><%= task_occurrence.id %></td>
      <td><%= task_occurrence.complete%></td>
      <td><%= task_occurrence.complete_date.try(:strftime, "%m/%d/%Y")%></td>
      <td>
        <a href="/task_occurrences/<%= task_occurrence.id %>" class="btn btn-primary">Show</a>
        <a href="/task_occurrences/<%= task_occurrence.id %>/edit" class="btn btn-warning">Edit</a>
        <a href="/delete_task_occurrence/<%= task_occurrence.id %>" class="btn btn-danger" rel="nofollow">Delete</a>
      </td>

    <%else%>
    <%end%>
    <%else%>
    <%end%>
    <%end%>
    </tr>
  </table>
</div>
</div>

Upcoming
<div class="row">
  <div class="col-md-12">
    <table class="table table-striped table-hover">
      <tr>
        <th></th>
        <th>Status</th>
        <th>Task Name</th>
        <th>Next Num</th>
        <th>Due Date</th>
        <th>Task ID</th>
        <th>Task Occurence ID</th>
        <th>Task Complete</th>
        <th>Task Complete Date</th>
        <th>Actions</th>
      </tr>
      <% @task_occurrences.order("task_next_date ASC").each do |task_occurrence| %>
      <% if task_occurrence.complete == false %>
      <% if task_occurrence.task_next_date > Time.now %><!-- Past Due-->
      <tr>
       <td>
        <% if task_occurrence.complete == true %>
        <a href="/task_occurrences/<%= task_occurrence.id %>/edit" class="btn btn-warning">
          <i class="fa fa-check-square-o"></i>
        </a>
        <% else %>
        <a href="/task_occurrences/<%= task_occurrence.id %>/edit" class="btn btn-success">
          <i class="fa fa-square-o"></i>
        </a>
        <% end %>
      </td>
      <td><% if task_occurrence.complete == false  && task_occurrence.task_next_date <= Time.now%>
        <%= time_ago_in_words(task_occurrence.task_next_date) %> Past Due
        <% elsif  task_occurrence.complete == false %>
        <%= time_ago_in_words(task_occurrence.task_next_date) %> Away
        <% else %>
        Complete!
        <% end %>
      </td>
      <td><%= Task.find_by(:id => task_occurrence.task_id).name %></td>
      <td><%= task_occurrence.task_next_num %></td>
      <td><%= task_occurrence.task_next_date.strftime("%m/%d/%Y") %></td>
      <td><%= task_occurrence.task_id %></td>
      <td><%= task_occurrence.id %></td>
      <td><%= task_occurrence.complete%></td>
      <td><%= task_occurrence.complete_date.try(:strftime, "%m/%d/%Y")%></td>
      <td>
        <a href="/task_occurrences/<%= task_occurrence.id %>" class="btn btn-primary">Show</a>
        <a href="/task_occurrences/<%= task_occurrence.id %>/edit" class="btn btn-warning">Edit</a>
        <a href="/delete_task_occurrence/<%= task_occurrence.id %>" class="btn btn-danger" rel="nofollow">Delete</a>
      </td>

    <%else%>
    <%end%>
    <%else%>
    <%end%>
    <%end%>
    </tr>
  </table>
</div>
</div>


